<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Maso的萬事屋LINEBOT範例</title>
    <script src="https://static.line-scdn.net/liff/edge/2/sdk.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.0.0/jquery.min.js"></script>
    <script>
        $(document).ready(function() {

            liff.init({
                    liffId: '1655997438-X8vP2vQB'
                })
                .then(() => {
                    if (!liff.isLoggedIn()) {
                        liff.login({
                            redirectUri: "https://maso-personal.herokuapp.com/"
                        });
                    } else {
                        liff.shareTargetPicker(
                                [{
                                    "type": "flex",
                                    "altText": "LINE名片",
                                    "contents": {
                                        "type": "carousel",
                                        "contents": [{
                                            "type": "bubble",
                                            "hero": {
                                                "type": "image",
                                                "size": "full",
                                                "aspectRatio": "20:13",
                                                "aspectMode": "cover",
                                                "url": "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTGQO3dMLLuaYzL3LAg6VKbXYH3flWmKgqbGQ&usqp=CAU"
                                            },
                                            "body": {
                                                "type": "box",
                                                "layout": "vertical",
                                                "spacing": "sm",
                                                "contents": [{
                                                    "type": "text",
                                                    "text": "愛怡特 (無敵團隊)",
                                                    "wrap": true,
                                                    "weight": "bold",
                                                    "size": "xl"
                                                }, {
                                                    "type": "box",
                                                    "layout": "baseline",
                                                    "contents": [{
                                                        "type": "icon",
                                                        "url": "https://www.wunme.com/a01/wunmea002/woody/fimages/27968/vqaxsgbya.jpg"
                                                    }, {
                                                        "type": "text",
                                                        "text": "新的一年祝福大家",
                                                        "wrap": true,
                                                        "weight": "bold",
                                                        "size": "xl",
                                                        "flex": 0
                                                    }]
                                                }, {
                                                    "type": "box",
                                                    "layout": "baseline",
                                                    "contents": [{
                                                        "type": "icon",
                                                        "url": "https://lh3.googleusercontent.com/HRn1mTi8c0SfEgStbYx9zHNEn6m7LR36sSZB9D8XMYXbMXRxq10G2hePr1qfkt_3koL52LSr1ZlMxGGqyh1tOF41z6CKR1CeCcVMAQ=w277"
                                                    }, {
                                                        "type": "text",
                                                        "text": "虎哩賺大錢",
                                                        "wrap": true,
                                                        "weight": "bold",
                                                        "size": "xl",
                                                        "flex": 0
                                                    }]
                                                }, {
                                                    "type": "box",
                                                    "layout": "baseline",
                                                    "contents": [{
                                                        "type": "icon",
                                                        "url": "https://lh3.googleusercontent.com/HRn1mTi8c0SfEgStbYx9zHNEn6m7LR36sSZB9D8XMYXbMXRxq10G2hePr1qfkt_3koL52LSr1ZlMxGGqyh1tOF41z6CKR1CeCcVMAQ=w277"
                                                    }, {
                                                        "type": "text",
                                                        "text": "虎哩旺旺旺",
                                                        "wrap": true,
                                                        "weight": "bold",
                                                        "size": "xl",
                                                        "flex": 0
                                                    }]
                                                }, {
                                                    "type": "box",
                                                    "layout": "baseline",
                                                    "contents": [{
                                                        "type": "icon",
                                                        "url": "https://lh3.googleusercontent.com/HRn1mTi8c0SfEgStbYx9zHNEn6m7LR36sSZB9D8XMYXbMXRxq10G2hePr1qfkt_3koL52LSr1ZlMxGGqyh1tOF41z6CKR1CeCcVMAQ=w277"
                                                    }, {
                                                        "type": "text",
                                                        "text": "虎哩賺大錢",
                                                        "wrap": true,
                                                        "weight": "bold",
                                                        "size": "xl",
                                                        "flex": 0
                                                    }]
                                                }, {
                                                    "type": "box",
                                                    "layout": "baseline",
                                                    "contents": [{
                                                        "type": "icon",
                                                        "url": "https://lh3.googleusercontent.com/HRn1mTi8c0SfEgStbYx9zHNEn6m7LR36sSZB9D8XMYXbMXRxq10G2hePr1qfkt_3koL52LSr1ZlMxGGqyh1tOF41z6CKR1CeCcVMAQ=w277"
                                                    }, {
                                                        "type": "text",
                                                        "text": "虎年行大運",
                                                        "wrap": true,
                                                        "weight": "bold",
                                                        "size": "xl",
                                                        "flex": 0
                                                    }]
                                                }]
                                            },
                                            "footer": {
                                                "type": "box",
                                                "layout": "vertical",
                                                "spacing": "sm",
                                                "contents": [{
                                                    "type": "button",
                                                    "style": "primary",
                                                    "action": {
                                                        "type": "uri",
                                                        "label": "愛怡特 官網",
                                                        "uri": "https://www.apyld.com.tw"
                                                    },
                                                    "color": "#0000cd"
                                                }, {
                                                    "type": "button",
                                                    "style": "primary",
                                                    "action": {
                                                        "type": "uri",
                                                        "label": "愛怡特 FB 社群",
                                                        "uri": "https://www.facebook.com/APYLD.TAIWAN"
                                                    },
                                                    "color": "#9400d3"
                                                }, {
                                                    "type": "button",
                                                    "style": "primary",
                                                    "action": {
                                                        "type": "uri",
                                                        "label": "愛怡特 達人研究所 FB",
                                                        "uri": "https://www.facebook.com/groups/2625264964424348"
                                                    },
                                                    "color": "#ff0000"
                                                }]
                                            }
                                        }, {
                                            "type": "bubble",
                                            "hero": {
                                                "type": "image",
                                                "size": "full",
                                                "aspectRatio": "20:11",
                                                "aspectMode": "cover",
                                                "url": "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTvcp5_O2iH4wHX_wqaZaK7RioQx0gsNHP3eA&usqp=CAU"
                                            },
                                            "body": {
                                                "type": "box",
                                                "layout": "vertical",
                                                "spacing": "sm",
                                                "contents": [{
                                                    "type": "text",
                                                    "text": "愛怡特 五大系列商品",
                                                    "wrap": true,
                                                    "weight": "bold",
                                                    "size": "xl"
                                                }, {
                                                    "type": "box",
                                                    "layout": "baseline",
                                                    "contents": [{
                                                        "type": "icon",
                                                        "url": "https://www.wunme.com/a01/wunmea002/woody/fimages/27968/vqaxsgbya.jpg"
                                                    }, {
                                                        "type": "text",
                                                        "text": "R1 日用品",
                                                        "wrap": true,
                                                        "weight": "bold",
                                                        "size": "xl",
                                                        "flex": 0
                                                    }]
                                                }, {
                                                    "type": "box",
                                                    "layout": "baseline",
                                                    "contents": [{
                                                        "type": "icon",
                                                        "url": "https://lh3.googleusercontent.com/HRn1mTi8c0SfEgStbYx9zHNEn6m7LR36sSZB9D8XMYXbMXRxq10G2hePr1qfkt_3koL52LSr1ZlMxGGqyh1tOF41z6CKR1CeCcVMAQ=w277"
                                                    }, {
                                                        "type": "text",
                                                        "text": "R2 美容保養品",
                                                        "wrap": true,
                                                        "weight": "bold",
                                                        "size": "xl",
                                                        "flex": 0
                                                    }]
                                                }, {
                                                    "type": "box",
                                                    "layout": "baseline",
                                                    "contents": [{
                                                        "type": "icon",
                                                        "url": "https://lh3.googleusercontent.com/HRn1mTi8c0SfEgStbYx9zHNEn6m7LR36sSZB9D8XMYXbMXRxq10G2hePr1qfkt_3koL52LSr1ZlMxGGqyh1tOF41z6CKR1CeCcVMAQ=w277"
                                                    }, {
                                                        "type": "text",
                                                        "text": "R3 保健食品",
                                                        "wrap": true,
                                                        "weight": "bold",
                                                        "size": "xl",
                                                        "flex": 0
                                                    }]
                                                }, {
                                                    "type": "box",
                                                    "layout": "baseline",
                                                    "contents": [{
                                                        "type": "icon",
                                                        "url": "https://lh3.googleusercontent.com/HRn1mTi8c0SfEgStbYx9zHNEn6m7LR36sSZB9D8XMYXbMXRxq10G2hePr1qfkt_3koL52LSr1ZlMxGGqyh1tOF41z6CKR1CeCcVMAQ=w277"
                                                    }, {
                                                        "type": "text",
                                                        "text": "RUNE24 彩妝系列",
                                                        "wrap": true,
                                                        "weight": "bold",
                                                        "size": "xl",
                                                        "flex": 0
                                                    }]
                                                }, {
                                                    "type": "box",
                                                    "layout": "baseline",
                                                    "contents": [{
                                                        "type": "icon",
                                                        "url": "https://lh3.googleusercontent.com/HRn1mTi8c0SfEgStbYx9zHNEn6m7LR36sSZB9D8XMYXbMXRxq10G2hePr1qfkt_3koL52LSr1ZlMxGGqyh1tOF41z6CKR1CeCcVMAQ=w277"
                                                    }, {
                                                        "type": "text",
                                                        "text": "FOOD 食品系列",
                                                        "wrap": true,
                                                        "weight": "bold",
                                                        "size": "xl",
                                                        "flex": 0
                                                    }]
                                                }]
                                            },
                                            "footer": {
                                                "type": "box",
                                                "layout": "vertical",
                                                "spacing": "sm",
                                                "contents": [{
                                                    "type": "button",
                                                    "style": "primary",
                                                    "action": {
                                                        "type": "uri",
                                                        "label": "產品目錄電子報",
                                                        "uri": "http://online.flipbuilder.com/jcdiv/vugp/"
                                                    },
                                                    "color": "#0000cd"
                                                }, {
                                                    "type": "button",
                                                    "style": "primary",
                                                    "action": {
                                                        "type": "uri",
                                                        "label": "如何 線上購物教學",
                                                        "uri": "https://www.wunme.com/index.aspx?u=woody&i=218"
                                                    },
                                                    "color": "#9400d3"
                                                }, {
                                                    "type": "button",
                                                    "style": "primary",
                                                    "action": {
                                                        "type": "uri",
                                                        "label": "如何 線上註冊會員",
                                                        "uri": "https://www.wunme.com/index.aspx?u=woody&i=234"
                                                    },
                                                    "color": "#ff0000"
                                                }]
                                            }
                                        }]
                                    }
                                }, ], {
                                    isMultiple: false,
                                }
                            )
                            .then(function(res) {
                                if (res) {
                                    // succeeded in sending a message through TargetPicker
                                    console.log(`[${res.status}] Message sent!`)
                                } else {
                                    const [majorVer, minorVer] = (liff.getLineVersion() || "").split('.');
                                    if (parseInt(majorVer) == 10 && parseInt(minorVer) < 11) {
                                        // LINE 10.3.0 - 10.10.0
                                        // Old LINE will access here regardless of user's action
                                        console.log('TargetPicker was opened at least. Whether succeeded to send message is unclear')
                                    } else {
                                        // LINE 10.11.0 -
                                        // sending message canceled
                                        console.log('TargetPicker was closed!')
                                    }
                                }
                            }).catch(function(error) {
                                // something went wrong before sending a message
                                console.log('something wrong happen')
                            })
                    }
                })
                .catch((err) => {});
        });
    </script>
</head>

<body>
    <h1>Maso的萬事屋LINEBOT範例，使用到以下套件</h1>
    <ul>
        <li>Flask: 一個使用Python編寫的輕量級Web應用框架。</li>
        <li>line-bot-sdk: 一個基於Python的SDK，可用於呼叫LINE BOT API。</li>
    </ul>
</body>

</html>